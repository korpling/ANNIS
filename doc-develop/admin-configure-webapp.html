<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ANNIS: Configure front-end web-application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="annis_64.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ANNIS
   &#160;<span id="projectnumber">3.5.0-preview1</span>
   </div>
   <div id="projectbrief">An open source, versatile web browser-based search and visualization architecture for complex multilevel linguistic corpora with diverse types of annotation.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('admin-configure-webapp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Configure front-end web-application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#admin-configure-container">Configuring Tomcat or Jetty as application container </a><ul><li class="level2"><a href="#admin-configure-tomcat-utf8">Tomcat: UTF8 encoding in server.xml</a></li>
</ul>
</li>
<li class="level1"><a href="#admin-configure-general">General configuration advices </a></li>
<li class="level1"><a href="#admin-configure-instance">Create and configure instances </a></li>
<li class="level1"><a href="#admin-configure-vis">Configuring Visualizations </a><ul><li class="level2"><a href="#admin-configure-visibility">Visibility column</a></li>
<li class="level2"><a href="#admin-configure-vislist">Visualizer list</a></li>
</ul>
</li>
<li class="level1"><a href="#document-visualizer">Document Browser</a><ul><li class="level2"><a href="#custom-visualizer-and-sorting">custom visualizer and sorting</a></li>
</ul>
</li>
<li class="level1"><a href="#web-fonts">Web fonts</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="admin-configure-container"></a>
Configuring Tomcat or Jetty as application container </h1>
<p>We are providing a WAR-file that is deployable by every common Java Servlet Container like Tomcat or Jetty. Please use the documentation of the web application container of your choice how to deploy these war-files.</p>
<h2><a class="anchor" id="admin-configure-tomcat-utf8"></a>
Tomcat: UTF8 encoding in server.xml</h2>
<p>If using Tomcat make sure the UTF-8 encoding is used for URLs. Some installations of Tomcat don't use UTF-8 for the encoding of the URLs and that will cause problems when searching for non-ASCII characters. In order to avoid this the Connector-configuration needs the property "URIEncoding" set to "UTF-8" like in this example (<code>$CATALINA_HOME/server.xml</code>):</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;<span class="keywordtype">Connector</span> <span class="keyword">port</span>=<span class="stringliteral">&quot;8080&quot;</span> <span class="keyword">protocol</span>=<span class="stringliteral">&quot;HTTP/1.1&quot;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">connectionTimeout</span>=<span class="stringliteral">&quot;20000&quot;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">URIEncoding</span>=<span class="stringliteral">&quot;UTF-8&quot;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">redirectPort</span>=<span class="stringliteral">&quot;8443&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">executor</span>=<span class="stringliteral">&quot;tomcatThreadPool&quot;</span> /&gt;</div></div><!-- fragment --><h1><a class="anchor" id="admin-configure-general"></a>
General configuration advices </h1>
<p>The ANNIS frontend will search in different folders for it's configuration.</p>
<table class="doxtable">
<tr>
<th>Folder </th><th>Description  </th></tr>
<tr>
<td><code>&lt;Installation&gt;/WEB-INF/conf/</code> </td><td>Default configuration inside the deployed web application folder. Should not be changed. </td></tr>
<tr>
<td><code>$ANNIS_CFG</code> or <code>/etc/annis/</code> </td><td>The global configuration folder defined by the environment variable <code>ANNIS_CFG</code> or a default path if not set. </td></tr>
<tr>
<td><code>~/.annis/</code> </td><td>User specific configuration inside the <code>.annis</code> sub-folder inside the home folder of the user who is running the frontend. </td></tr>
</table>
<p>Configuration files can be either in the <a href="http://en.wikipedia.org/w/index.php?title=.properties&amp;oldid=521500688">Java Properties</a> or <a href="http://www.json.org/">JSON</a> format. Configuration files from the user directory can overwrite the global configuration and the global configuration overwrites the default configuration.</p>
<h1><a class="anchor" id="admin-configure-instance"></a>
Create and configure instances </h1>
<p>When multiple corpora from different sources are hosted on one server it is often still desired to group the corpora by their origin and present them differently. You should not be forced to have an ANNIS frontend and service installation for each of this groups. Instead the administrator can define so called instances.</p>
<p>An instance is defined by a JSON file inside the instances sub-folder in one of the configuration locations. The name of the file also defines the instance name. Thus the file <code>instances/falko.json</code> defines the instance named "falko".</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        &quot;display-name&quot;: &quot;Falko&quot;,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        &quot;default-querybuilder&quot;: &quot;tigersearch&quot;,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        &quot;default-corpusset&quot;: &quot;falko-essays&quot;,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        &quot;corpus-sets&quot;: [</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        {</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;                &quot;name&quot;: &quot;falko-essays&quot;,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;                &quot;corpus&quot;: [</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;                &quot;falko-essay-l1&quot;,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;                &quot;falko-essay-l2&quot;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;                ]</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        },</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;        {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                &quot;name&quot;: &quot;falko-summaries&quot;,</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                &quot;corpus&quot;: [</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;                &quot;falko-summary-l1&quot;,</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;                &quot;falko-summary-l2&quot;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;                ]</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;        }</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        ],</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        &quot;keyboard-layout&quot; : &quot;de&quot;,</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        &quot;login-on-start&quot;: &quot;true&quot;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div></div><!-- fragment --><p>Each instance configuration can have a verbose display-name which is displayed in the title of the browser window. <code>default-querybuilder</code> defines the short name of the query builder you want to use. Currently only "tigersearch" and "flatquerybuilder" are available, see <a class="el" href="dev-querybuilder.html">here</a> if you want to add your own query builder. The <code>keyboard-layout</code> variable is used as the default value for the virtual keyboard of the AQL query box. If <code>login-on-start</code> is set to <code>true</code> a login window is shown at each startup of the ANNIS search UI if the user is not logged in yet.</p>
<p>While any user can group corpora into corpus sets for their own, you can define corpus sets for the whole instance. Each corpus set is an JSON-object with a name and a list of corpora that belong to the corpus set.</p>
<p>Any defined instance is assigned a special URL at which it can be accessed: <code><a href="http://">http://</a>&lt;server&gt;/annis-gui/&lt;instance-name&gt;</code>. The default instance is additionally accessible by not specifying any instance name in the URL. You can configure your web server (e.g. Apache) to rewrite the URLs if you need a more project specific and less "technical" URL (e.g. <code><a href="http://">http://</a>&lt;server&gt;/falko</code>).</p>
<h1><a class="anchor" id="admin-configure-vis"></a>
Configuring Visualizations </h1>
<p>By default, ANNIS displays all search results in the Key Word in Context (KWIC) view in the search result window. Further visualizations, such as syntax trees or grid views, are displayed by default based on the following namespaces:</p>
<table class="doxtable">
<tr>
<th>Namespace</th><th>visualizer  </th></tr>
<tr>
<td>tiger </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1tree_1_1_tiger_tree_visualizer.html">tree visualizer</a> </td></tr>
<tr>
<td>exmaralda </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1grid_1_1_grid_visualizer.html">grid visualizer</a> </td></tr>
<tr>
<td>mmax </td><td><a class="el" href="classannis_1_1visualizers_1_1iframe_1_1_coref_visualizer.html">discourse view</a> </td></tr>
<tr>
<td>video </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1_video_visualizer.html">video player</a> </td></tr>
<tr>
<td>audio </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1_audio_visualizer.html">audio player</a> </td></tr>
</table>
<p>In these cases the namespaces are usually taken from the source format in which the corpus was generated, and carried over into relAnnis during the conversion. It is also possible to use other namespaces, most easily when working with PAULA XML. In PAULA XML, the namespace is determined by the string prefix before the first period in the file name / paula_id of each annotation layer. In order to manually determine the visualizer and the display name for each namespace in each corpus, the resolver table (<code>resolver_vis_map</code>) in the database must be edited.</p>
<p>The columns in the table can be filled out as follows: </p><table class="doxtable">
<tr>
<th>Column </th><th>Description  </th></tr>
<tr>
<td>corpus </td><td>determines the corpora for which the instruction is valid (null values apply to all corpora) </td></tr>
<tr>
<td>namespace </td><td>pecifies relevant namespace which triggers the visualization </td></tr>
<tr>
<td>element </td><td>determines if a <code>node</code> or an <code>edge</code> should carry the relevant annotation for triggering the visualization </td></tr>
<tr>
<td>vis_type </td><td>determines the visualizer module used from the short name of the visualizer, valid values for the ANNIS standard installation can be found in <a class="el" href="admin-configure-webapp.html#admin-configure-vislist">Visualizer list</a> </td></tr>
<tr>
<td>display_name </td><td>determines the heading that is shown for each visualizer in the interface </td></tr>
<tr>
<td>visibility </td><td>determines the visibility state of the visualizer. Valid values are explained in <a class="el" href="admin-configure-webapp.html#admin-configure-visibility">Visibility column</a> </td></tr>
<tr>
<td>order </td><td>determines the order in which visualizers are rendered in the interface (low to high) </td></tr>
<tr>
<td>mappings </td><td>provides additional parameters for some visualizations, see the specific visualizer documentation for valid values </td></tr>
</table>
<h2><a class="anchor" id="admin-configure-visibility"></a>
Visibility column</h2>
<p>These are the valid values for the <code>visibility</code> column in the <code>resolver_vis_map</code> table</p><ul>
<li><code>permanent</code> - the visualizer is shown and not closeable</li>
<li><code>hidden</code> - the visualizer is hidden, but expandable</li>
<li><code>visible</code> - the visualizer is visible and closeable</li>
<li><code>preloaded</code> - behaviour is the same as <code>hidden</code>, but the visualizer starts to be rendered in the background</li>
<li><code>removed</code> - this visualizer is disabled, useful to deactivate a visualizer that is always shown (like KWIC)</li>
</ul>
<h2><a class="anchor" id="admin-configure-vislist"></a>
Visualizer list</h2>
<table class="doxtable">
<tr>
<th>Short name</th><th>Description </th><th>Link to documentation </th><th>Screenshot  </th></tr>
<tr>
<td><code>kwic</code> </td><td>shows word in a specific context and also token annotations. </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1kwic_1_1_k_w_i_c_visualizer.html">KWICVisualizer</a> </td><td><div class="image">
<img src="kwic_vis.png" alt="kwic_vis.png"/>
<div class="caption">
kwic</div></div>
</td></tr>
<tr>
<td><code>tree</code> </td><td>constituent syntax tree </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1tree_1_1_tiger_tree_visualizer.html">TigerTreeVisualizer</a> </td><td><div class="image">
<img src="tiger_tree_vis.png" alt="tiger_tree_vis.png"/>
<div class="caption">
tree</div></div>
</td></tr>
<tr>
<td><code>grid</code> </td><td>annotation grid, with annotations spanning multiple tokens </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1grid_1_1_grid_visualizer.html">GridVisualizer</a> </td><td><div class="image">
<img src="grid_vis.png" alt="grid_vis.png"/>
<div class="caption">
grid</div></div>
</td></tr>
<tr>
<td><code>grid_tree</code> </td><td>a grid visualizing hierarchical tree annotations as ordered grid layers </td><td>GridTreeVisualizer </td><td><div class="image">
<img src="grid_tree_vis.png" alt="grid_tree_vis.png"/>
<div class="caption">
grid_tree</div></div>
</td></tr>
<tr>
<td><code>discourse</code> </td><td>a view of the entire text of a document, possibly with interactivecoreference links. </td><td><a class="el" href="classannis_1_1visualizers_1_1iframe_1_1_coref_visualizer.html">CorefVisualizer</a> </td><td><div class="image">
<img src="discourse_vis.png" alt="discourse_vis.png"/>
<div class="caption">
discourse</div></div>
</td></tr>
<tr>
<td><code>coref</code> </td><td>a textual view of the match, possibly with interactivecoreference links. </td><td><a class="el" href="classannis_1_1visualizers_1_1iframe_1_1_match_coref_visualizer.html">MatchCorefVisualizer</a></td><td>... </td></tr>
<tr>
<td><code>arch_dependency</code> </td><td>dependency tree with labeled arches between tokens </td><td><a class="el" href="classannis_1_1visualizers_1_1iframe_1_1dependency_1_1_vakyartha_dependency_tree.html">VakyarthaDependencyTree</a> </td><td><div class="image">
<img src="arch_dependency_vis.png" alt="arch_dependency_vis.png"/>
<div class="caption">
arch_dependency</div></div>
</td></tr>
<tr>
<td><code>ordered_dependency</code> </td><td>arrow based dependency visualization for corpora with dependencies between non terminal nodes </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1dependency_1_1_proiel_regular_dependency_tree.html">ProielRegularDependencyTree</a> </td><td><div class="image">
<img src="ordered_dependency_vis.png" alt="ordered_dependency_vis.png"/>
<div class="caption">
ordered_dependency</div></div>
</td></tr>
<tr>
<td><code>hierarchical_dependency</code> </td><td>unordered vertical tree of dependent tokens </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1dependency_1_1_proiel_dependecy_tree.html">ProielDependecyTree</a> </td><td><div class="image">
<img src="hierarchical_dependency_vis.png" alt="hierarchical_dependency_vis.png"/>
<div class="caption">
hierarchical_dependency</div></div>
</td></tr>
<tr>
<td><code>dot_vis</code> </td><td>a debug view of the annotation graph </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1graph_1_1_dot_graph_visualizer.html">DotGraphVisualizer</a> </td><td><div class="image">
<img src="graph_vis.png" alt="graph_vis.png"/>
<div class="caption">
dot_vis</div></div>
</td></tr>
<tr>
<td><code>video</code> </td><td>a linked video file </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1_video_visualizer.html">VideoVisualizer</a> </td><td><div class="image">
<img src="video.png" alt="video.png"/>
<div class="caption">
video</div></div>
</td></tr>
<tr>
<td><code>audio</code> </td><td>a linked audio file </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1_audio_visualizer.html">AudioVisualizer</a> </td><td><div class="image">
<img src="audio.png" alt="audio.png"/>
<div class="caption">
audio</div></div>
</td></tr>
<tr>
<td><code>rst</code> and <code>rstdoc</code> </td><td>imitates the RST-diagrams from the <a href="http://www.wagsoft.com/RSTTool/">RST-Tool</a> for a match or complete document</td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1rst_1_1_r_s_t.html">RST</a>/<a class="el" href="classannis_1_1visualizers_1_1component_1_1rst_1_1_r_s_t_full.html">RSTFull</a> </td><td><div class="image">
<img src="rst_vis.png" alt="rst_vis.png"/>
<div class="caption">
rst</div></div>
</td></tr>
<tr>
<td><code>raw_text</code> </td><td>simple and default visualizer for the document browser, shows the content of the text.tab file for a specific document.</td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1_raw_text_visualizer.html">RawTextVisualizer</a> </td><td><div class="image">
<img src="raw_text_vis.png" alt="raw_text_vis.png"/>
<div class="caption">
raw text</div></div>
</td></tr>
<tr>
<td><code>visjs</code> </td><td>A view of the salt model of context, which contains key words. Note, spanning nodes will be divided into classes according to their annotation keys. All spanning nodes belonging to the same class appear in the same level. </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1visjs_1_1_vis_js.html">VisJs</a></td><td><div class="image">
<img src="visjs.png" alt="visjs.png"/>
<div class="caption">
salt model of context</div></div>
</td></tr>
<tr>
<td><code>visjsdoc</code> </td><td>A view of the salt model of the entire document, which contains key words. Note, spanning nodes will be divided into classes according to their annotation keys. All spanning nodes belonging to the same class appear in the same level. </td><td><a class="el" href="classannis_1_1visualizers_1_1component_1_1visjs_1_1_vis_js_doc.html">VisJsDoc</a> </td><td><div class="image">
<img src="visjsdoc.png" alt="visjsdoc.png"/>
<div class="caption">
salt model of document</div></div>
</td></tr>
</table>
<h2><a class="anchor" id="admin-configure-visibility"></a>
Visibility column</h2>
<p>Some ANNIS visualizers require additional software, depending on whether or not they render graphics as an image directly in Java or not. At present, three visualizations require an installation of the freely available software GraphViz (<a href="http://www.graphviz.org/">http://www.graphviz.org/</a>): <a class="el" href="classannis_1_1visualizers_1_1component_1_1dependency_1_1_proiel_regular_dependency_tree.html">ordered_dependency</a>, <a class="el" href="classannis_1_1visualizers_1_1component_1_1dependency_1_1_proiel_dependecy_tree.html">hierarchical_dependency</a> and the general <a class="el" href="classannis_1_1visualizers_1_1component_1_1graph_1_1_debug_visualizer.html">dot</a> visualization. To use these, install GraphViz on the server (or your local machine for Kickstarter) and make sure it is available in your system path (check this by calling e.g. the program <code>dot</code> on the command line).</p>
<h2>Configure filter options for visjs and visjsdoc visualizers</h2>
<p>How already mentioned <code>visjs</code> visualizes the salt model of context, which contains key words. Furthermore it provides a possibility to filter nodes (spans and structures) and/or relations (pointing, spanning, dominance) according to their salt annotations. The latter can be filtered also according to their type. Therefore the filter parameter must be set by an entry in the <code>mappings</code> column of the <code>resolver_vis_map</code> table. Note, tokens will always be displayed.</p>
<p>Use <code>annos: anno_name1, anno_name2, ... ,anno_nameN</code> to specify nodes, which must be displayed. All spanning nodes and structure nodes, which contain listed annotation names will be displayed. The relations can be filtered according to their type and annotation. Use <code>pointingRelAnnos: anno_name1, anno_name2, ..., anno_nameN</code> to filter pointing relations, <code>spanningRelAnnos: anno_name1, anno_name2, ..., anno_nameN</code> to filter spanning relations, <code>dominanceRelAnnos: anno_name1, anno_name2, ..., anno_nameN</code> to filter dominance relations. <code>anno_nameX</code> can be written as cleartext or as a regular expression.</p>
<p>If no filter parameter defined for an object class, all objects of this class will be displayed. For instance, with the following filter parameter string <code>annos: cat, Topic, ambiguity; dominanceRelationAnnos: func</code> we would obtain all tokens, all spanning nodes and structure nodes, whose list of annotation keys contains at least one of the stings <code>cat</code>, <code>Topic</code> or <code>ambiguity</code>, all dominance relations, whose list of annotation keys contains string <code>func</code>, all spanning relations and all pointing relations.</p>
<p><code>visjsdoc</code> visualizes the entire salt model of document, which contains key words. The filter parameter can be set in the same manner as for <code>visjs</code>.</p>
<h1><a class="anchor" id="document-visualizer"></a>
Document Browser</h1>
<p>The default configuration for the document browser is stored in the <code>conf/document_browser.json</code> file. It can be overwritten by a custom the <code>document_browser.json</code> file placed in the <code>ExtData</code> directory of a corpus.</p>
<h2>automatic switch on/off</h2>
<p>The ANNIS importer tries to detect an artificial token segmentation. If the text.tab contains only artificial token (which means there are only white spaces) the document browser is disabled. In the case there exists a <code>document_browser.json</code> file which configures the document browser it will never be disabled by ANNIS. Also if in the <code>corpus.properties</code> the <code>browse-documents</code> properties is set to true, the document browser will stay active.</p>
<h2><a class="anchor" id="custom-visualizer-and-sorting"></a>
custom visualizer and sorting</h2>
<p>It is also possible to use a custom visualizer for browsing a whole document. The configuration is in JSON-Syntax file named document_browser.json, which can be add to the ExtData directory of each corpus.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    &quot;visualizers&quot;: [</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        {</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;            &quot;type&quot;  : &quot;raw_text&quot;,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;            &quot;displayName&quot; :  &quot;full text&quot;,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;            &quot;mappings&quot; : &quot;vertical:true&quot;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        }</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    ],</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    &quot;metaDataColumns&quot; : [</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;            &quot;namespace&quot; : &quot;annis&quot;,</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;            &quot;name&quot; : &quot;Genre&quot;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        }</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    ],</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    &quot;orderBy&quot; : [</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;        {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            &quot;namespace&quot; : &quot;annis&quot;,</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;            &quot;name&quot; :&quot;Titel&quot;,</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;            &quot;ascending&quot; : &quot;false&quot;}</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    ]</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;}</div></div><!-- fragment --><p>Explanation in detail:</p>
<ul>
<li>visualizers: Defines which document visualizers are available for a corpus. All visualizer from the list above with the suffix "doc" in their name are suitable for using as doc visualizer.</li>
<li>metaDataColumns (optional): For every defined metadata object an additional column is generated with the metadata key as column header and the metadata value as table cell value. The subfield 'namespace' is optional.</li>
<li>orderBy (optional): In the default state the table is sorted by document name. But it's also possible to define a custom sort by the metadata fields, even if the column is not visible. 'namespace' and 'ascending' is optional. 'ascending' its default setting is 'true'.</li>
</ul>
<h1><a class="anchor" id="web-fonts"></a>
Web fonts</h1>
<p>The configuration of web fonts is placed within an instance file (see <a class="el" href="admin-configure-webapp.html#admin-configure-instance">configuration of instances</a>). Thus a web font is applied to a specific instance. If you not want to define an extra instance, it is possible to add the font configuration to the default.json file in the <em>instance</em> directory. If no <em>instance</em> directory or default.json file exists, create it. Add a property <b>font</b> to the config with the following parameters:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; ...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; &quot;font&quot; :</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; {</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;   &quot;name&quot; : &quot;foo&quot;,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;   &quot;url&quot;: &quot;https://example.com/foo.css&quot;,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;   &quot;size&quot;: &quot;12pt&quot; // optional</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; }</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div></div><!-- fragment --><p>You must also provide a css file, which contains the <code>@font-face</code> rule und is reachable under the defined link in the instance config:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;@font-face {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;  font-family: &#39;bar&#39;;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;  font-style: normal;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  font-weight: normal;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  font-size: larger;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  src:</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        local(&#39;bar&#39;),</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        url(bar.woff) format(&#39;woff&#39;);</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;}</div></div><!-- fragment --><p>Further explantation about the <code>@font-face</code> rule is availabe on the <a href="http://www.w3.org/TR/css-fonts-3/#font-face-rule">W3C websites</a>.</p>
<p>If you need to have a different font configuration for the frequency chart just add a <code>frequency-font</code> entry. It has the same structure as <code>font</code>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="admin.html">Administration</a></li>
    <li class="footer">Generated on Tue Oct 18 2016 12:21:24 for ANNIS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>